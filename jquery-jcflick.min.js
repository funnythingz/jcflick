/* jquery-jcflick.js v@0.0.6 github.com/funnythingz/jcflick | mit-license */
;!function(a){a.fn.jcflick=function(a){var c={flickContainer:"flickContainer",flickWrapper:"flickWrapper",flickCol:"flickCol",autoTimer:5e3},d=$.extend(c,a);return this.each(function(){var a=$(this);b(d,a)})};var b=function(a,b){function c(b){if("touchstart"===b.type&&(d.p.autoChangeFlag=!1,d.p.touchPositionX=b.originalEvent.touches[0].clientX,d.p.touchPositionY=b.originalEvent.touches[0].clientY,clearInterval(d.p.Timer)),"touchmove"===b.type&&(d.p.positionIntX=d.p.touchPositionX-b.originalEvent.touches[0].clientX,d.p.positionIntY=d.p.touchPositionY-b.originalEvent.touches[0].clientY,$("#a").html(d.p.positionIntX),Math.abs(d.p.positionIntX)>5&&(b.preventDefault(),d.p.flag=!0,d.p.movePosition=d.p.nowPosition-d.p.positionIntX,f.css({webkitTransition:"none",webkitTransform:"translate3d("+d.p.movePosition+"px, 0, 0)"}))),"touchend"===b.type){if(d.p.flag){if(d.p.nowPosition=d.p.movePosition,"undefined"!=typeof a.flickBtn&&(d.flickBtnNext.removeClass("btnFalse").addClass("pointer"),d.flickBtnBack.removeClass("btnFalse").addClass("pointer")),d.p.positionIntX>50?d.p.nowPage<d.p.totalLength-1?(d.p.nowPage++,d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&d.p.nowPage==d.p.totalLength-1&&d.flickBtnNext.removeClass("pointer").addClass("btnFalse")):(d.p.nowPosition=-(d.p.colWidth*(d.p.totalLength-1)),k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&d.p.nowPage==d.p.totalLength-1&&d.flickBtnNext.removeClass("pointer").addClass("btnFalse")):d.p.positionIntX<-50?d.p.nowPage<=0?(d.p.nowPage=0,d.p.nowPosition=0,k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&d.flickBtnBack.removeClass("pointer").addClass("btnFalse")):(d.p.nowPage--,d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&0===d.p.nowPage&&d.flickBtnBack.removeClass("pointer").addClass("btnFalse")):(d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition)),"undefined"!=typeof a.flickLamp&&"undefined"!=typeof d.flickLampCol[d.p.nowPage]){for(var c=0;c<d.p.totalLength;c++)d.flickLampCol[c].removeClass("lamp_cur");d.flickLampCol[d.p.nowPage].addClass("lamp_cur")}r(),n&&(d.p.Timer=setInterval(p,o))}d.p.flag=!1}"touchcancel"===b.type&&(r(),n&&(d.p.Timer=setInterval(p,o)))}var d="undefined"!=typeof d&&d?void 0:{};d.p={nowPage:0,wrapperWidth:0,colWidth:0,totalLength:0,touchPositionX:0,touchPositionY:0,movePosition:0,nowPosition:0,positionIntX:0,positionIntY:0,flag:!1,autoChangeFlag:!0,Timer:"",AndroidTimer:""},d.singleCol=function(a,b){var c=$("."+a,b);return c},d.ua={Android:-1!=navigator.userAgent.indexOf("Linux; U; Android "),Honeycomb:-1!=navigator.userAgent.indexOf("HONEYCOMB"),GalaxyTab:-1!=navigator.userAgent.indexOf("SC-01C"),iPod:-1!=navigator.userAgent.indexOf("iPod"),iPhone:-1!=navigator.userAgent.indexOf("iPhone"),iPad:-1!=navigator.userAgent.indexOf("iPad")};var e=d.singleCol(a.flickContainer,b),f=d.singleCol(a.flickWrapper,b),g=d.singleCol(a.flickCol,b);f.css({width:e.width()+"px"}),g.css({width:e.width()+"px"}),d.p.nowPage="undefined"!=typeof a.flickCur?a.flickCur:0;var h=function(a){f.css({webkitTransition:"all 0.6s",webkitTransform:"translate3d("+a+"px, 0, 0)"})},i=function(a){f.css({webkitTransition:"all 0.6s",webkitTransform:"translate("+a+"px, 0)"})},j=function(){f.stop().animate({left:d.p.nowPosition+"px"},500)},k=function(a){d.ua.iPhone||d.ua.iPad||d.ua.iPod?h(a):d.ua.Android?i(a):j(a)};if(d.p.wrapperWidth=(d.p.totalLength=g.length)*(d.p.colWidth=g.width()),d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),d.flickLamp=function(a){var b=$("<span>");return b.addClass("lamp_def lamp_"+a),b.html(""),b},d.flickLampCol=[],"undefined"!=typeof a.flickLamp){if(d.ua.iPad)var l=d.singleCol(a.flickLamp,b).html("").css({textAlign:"center",width:e.width()+"px"});else var l=d.singleCol(a.flickLamp,b).html("").css({textAlign:"center"});for(var m=0;m<d.p.totalLength;m++)d.flickLampCol[m]=new d.flickLamp(m),m===d.p.nowPage&&d.flickLampCol[m].addClass("lamp_cur"),l.append(d.flickLampCol[m])}var n=!1;n=a.autoChange?a.autoChange:!1;var o=a.autoTimer,p=function(){if(d.p.autoChangeFlag&&(d.p.nowPosition=d.p.movePosition,"undefined"!=typeof a.flickBtn&&(d.flickBtnNext.removeClass("btnFalse").addClass("pointer"),d.flickBtnBack.removeClass("btnFalse").addClass("pointer")),d.p.nowPage<d.p.totalLength&&(d.p.nowPage<d.p.totalLength-1?(d.p.nowPage++,d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&d.p.nowPage==d.p.totalLength-1&&d.flickBtnNext.removeClass("pointer").addClass("btnFalse")):d.p.nowPage===d.p.totalLength-1&&(d.p.nowPage=0,d.p.nowPosition=0,k(d.p.nowPosition),"undefined"!=typeof a.flickBtn&&d.flickBtnBack.removeClass("pointer").addClass("btnFalse"))),"undefined"!=typeof a.flickLamp&&"undefined"!=typeof d.flickLampCol[d.p.nowPage])){for(var b=0;b<d.p.totalLength;b++)d.flickLampCol[b].removeClass("lamp_cur");d.flickLampCol[d.p.nowPage].addClass("lamp_cur")}},q=function(){d.p.autoChangeFlag&&(f.css({width:e.width()+"px"}),g.css({width:e.width()+"px"}),"undefined"!=typeof a.flickBtn&&s.css({width:e.width()+"px"}),d.p.wrapperWidth=(d.p.totalLength=g.length)*(d.p.colWidth=g.width()),f.css({width:d.p.wrapperWidth}),d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition))};d.flickBtn=function(a,b){var c=$("<span>");return c.addClass("flick_btn_"+a),c.html(b),c};var r=function(){d.p.autoChangeFlag=!0};if("undefined"!=typeof a.flickBtn){var s=d.singleCol(a.flickBtn,b).html("").css({width:e.width()+"px"}),t=!0,u="undefined"!=typeof a.flickBtnNextName?a.flickBtnNextName:"next",v="undefined"!=typeof a.flickBtnBackName?a.flickBtnBackName:"back";d.flickBtnNext=new d.flickBtn("next",u),d.flickBtnBack=new d.flickBtn("back",v),0===d.p.nowPage?(d.flickBtnNext.addClass("pointer"),d.flickBtnBack.addClass("btnFalse")):d.p.nowPage===d.p.totalLength-1?(d.flickBtnNext.addClass("btnFalse"),d.flickBtnBack.addClass("pointer")):(d.flickBtnNext.addClass("pointer"),d.flickBtnBack.addClass("pointer")),s.append(d.flickBtnNext),s.append(d.flickBtnBack),d.flickBtnNext.bind("click",function(){if(d.p.autoChangeFlag=!1,clearInterval(d.p.Timer),t=!1,d.p.nowPage<d.p.totalLength-1&&(d.p.nowPage++,d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),d.flickBtnBack.removeClass("btnFalse").addClass("pointer"),d.p.nowPage==d.p.totalLength-1&&d.flickBtnNext.removeClass("pointer").addClass("btnFalse"),"undefined"!=typeof a.flickLamp&&"undefined"!=typeof d.flickLampCol[d.p.nowPage])){for(var b=0;b<d.p.totalLength;b++)d.flickLampCol[b].removeClass("lamp_cur");d.flickLampCol[d.p.nowPage].addClass("lamp_cur")}t=!0,r(),n&&(d.p.Timer=setInterval(p,o))}),d.flickBtnBack.bind("click",function(){if(d.p.autoChangeFlag=!1,clearInterval(d.p.Timer),t=!1,d.p.nowPage>0&&(d.p.nowPage--,d.p.nowPosition=-(d.p.colWidth*d.p.nowPage),k(d.p.nowPosition),d.flickBtnNext.removeClass("btnFalse").addClass("pointer"),0===d.p.nowPage&&d.flickBtnBack.removeClass("pointer").addClass("btnFalse"),"undefined"!=typeof a.flickLamp&&"undefined"!=typeof d.flickLampCol[d.p.nowPage])){for(var b=0;b<d.p.totalLength;b++)d.flickLampCol[b].removeClass("lamp_cur");d.flickLampCol[d.p.nowPage].addClass("lamp_cur")}t=!0,r(),n&&(d.p.Timer=setInterval(p,o))})}var w=navigator.userAgent;w.match(/Android 1\.5/)&&w.match(/Android 1\.6/)||f.bind("touchstart touchmove touchend touchcancel",c),n&&(d.p.Timer=setInterval(p,o)),$(window).on("load",q),function(){var a=!1;$(window).on("resize",function(){a!==!1&&clearTimeout(a),a=setTimeout(function(){q()},200)})}()}}(jQuery);